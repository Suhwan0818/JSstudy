# 원시 값과 객체의 비교  

> 자바스크립트가 제공하는 7가지 타입(숫자, 문자열, 불리언, null, undefined, 심벌, 객체 타입)은 크게 **원시 타입**과 **객체 타입**으로 구분할 수 있다.  

**원시값** = 변경 불가능한 값(변수에는 실제 값이 저장된다)  
**객체** = 변경 가능한 값(변수에는 참조 값이 저장된다)  

## 1.1 원시값  

### 1.1.1 변경 불가능한 값  

원시 값은 **변경이 불가능한 값**으로 한 번 생성된 원시 값은 변경할 수 없다.  
**변수**는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 혹은 그 메모리 공간을 식별하기 위해 붙인 이름이고, 값은 변수에 저장된 데이터로서 표현식이 평가되어 생성되는 결과를 말한다.  

원시 값이 변경 불가능하다는 뜻은 원시 값을 변경할수 없다는 뜻이지 변수 값 자체를 변경할 수 없다는 뜻은 아닙니다. 변수는 언제든지 재할당을 통해 변수 값을 변경할 수 있습니다.  
```js
// const 키워드를 사용해 선언한 변수는 재할당 금지  
const o = {};

// const 키워드를 사용한 원시값인 o는 변경 불가능
// const 키워드를 이용해 할당한 객체는 변경 가능하다
const o = '값을 바꾸고 싶습니다'; //error
o.a = 1;

console.log(o); // {a:1}
```  

원시 값을 할당한 새로운 원시 값을 재할당하면, 메모리 공간에 저장되어 있는 재할당 이전의 원시 값을 변경하는게 아니다
![const_revalue](/img/const%20revalue1.png)  

새로운 공간을 확보하고 재할당한 원시값을 저장한 후 변수는 새롭게 재 할당한 원시 값을 가리킨다. 이 때 변수가 참조하던 메모리 공간의 주소가 바뀌게 된다.  
![const_revalue](/img/const%20revalue2.png)  

원시 값은 변경 불가능한 값이기 때문에 **직접 값을 변견할 수 없다.** 따라서 변수 값을 변경하기 위해 원시 값을 재할당하면 새로운 메모리 공간을 확보하고 재할당한 값을 저장한 후, 변수가 참조하던 메모리 공간의 주소를 변경한다. 값의 이러한 특성을 <span style='background-color:#fff5b1'>**불변성**</span>이라고 한다. 불변성을 갖는 원시 값을 할당한 변수는 재할당 이외는 변수 값을 변경할 수 있는 방법이 없다.  

1.1.2 문자열과 불변성  
원시 값을 저장하려면 먼저 **확보해야하는 메모리 공간을 결정**해야 한다. 이를 위해 원시 타입별로 공간의 크기는 미리 정해져 있다. ECMAScript 사양에 문자열 타입과 숫자 타입 이외의 원시 타입은 크기를 명확히 규정하고 있지 않아서 브라우저에 따라 원시 타입의 크기가 다를 수 있다.  

<span style='background-color:#fff5b1'>**문자열**</span>은 0개 이상의 문자로 이루어진 집합을 의미하며, 1개의 문자는 2바이트의 메모리 공간에 저장된다. 따라서 문자열은 몇 개의 문자로 이루어져있는지에 따라 필요한 공간의 크기가 결정된다. 숫자 값은 1도, 10000000도 동일한 8바이트가 필요하지만, 문자열의 경우 1개의 문자로 이루어진 문자열은 2바이트, 10개의 문자로 이루어진 문자열은 20바이트가 필요하다.  
```js
var str1 = ''; // 0개의 문자로 이루어진 문자열(빈 문자열)  
var str2 = 'Hello' // 5개의 문자로 이루어진 문자열  

var str = 'Hello' //'str'은 'Hello'가 저장된 메모리 공간의 첫 번째 메모리 셀 주소를 가르킨다.
str = 'world' //'Hello'를 수정하는 것이 아닌 새로운 공간에 'world'를 만들어 'str'이 셀 주소를 가르킨다.  
```  

> **유사 배열 객체**  
마치 배열처럼 인덱스로 프로퍼티 값에 접근할 수 있고 length 프로퍼티를 갖는 객체를 말한다. 문자열은 마치 배열처럼 인덱스를 통해 각 문자에 접근할 수 있으며 length 프로퍼티를 갖기 때문에 유사 배열 객체이고, for문으로 순회할 수 있다.  

```js
var str = 'string';
// 문자열은 유사 배열이므로 배열과 유사하게 인덱스를 각 문자에 접근할 수 있다.  
console.log(str[0]);

// 원시 값인 문자열이 객체처럼 동작한다.  
console.log(str.length); // 6
console.log(str.toUpperCase()); // STRING
```  